<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 å¯¶é¦¬ç‹‚å¥” - ç†Šå‰›çš„ç´…åŒ…æŠ½ç</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root { --primary-red: #e63946; --gold: #ffb703; --pink: #ff69b4; --dark-red: #9b2226; --shiny-gold: #fff3b0; --bg-gradient: linear-gradient(135deg, #8b0000 0%, #e63946 50%, #d00000 100%); }
        body { font-family: 'Noto Sans TC', sans-serif; background: var(--bg-gradient); height: 100vh; margin: 0; display: flex; justify-content: center; align-items: center; overflow: hidden; position: relative; cursor: pointer; }
        
        /* ç´…åŒ…é›¨ */
        .red-packet { position: absolute; width: 30px; height: 45px; background: #ff4d4d; border: 2px solid #ffcc00; border-radius: 4px; top: -50px; z-index: 1; opacity: 0.7; pointer-events: none; animation: fall linear infinite; }
        .red-packet::after { content: "ğŸ§§"; display: flex; justify-content: center; align-items: center; font-size: 15px; height: 100%; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

        /* ä¸»å®¹å™¨ */
        .container { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(15px); padding: 2rem; border-radius: 30px; box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3); width: 90%; max-width: 420px; text-align: center; border: 5px solid var(--gold); position: relative; z-index: 10; }
        
        /* æ­¥é©Ÿåˆ‡æ›å‹•ç•« */
        .step { display: none; animation: fadeIn 0.6s cubic-bezier(0.39, 0.575, 0.565, 1); }
        .step.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.9) translateY(20px); } to { opacity: 1; transform: scale(1) translateY(0); } }

        h2 { color: var(--dark-red); margin-bottom: 1rem; font-size: 1.8rem; font-weight: 900; }
        p { color: #444; line-height: 1.6; }
        
        input, select { width: 100%; padding: 12px; margin: 10px 0; border: 2px solid #eee; border-radius: 15px; font-size: 1rem; outline: none; box-sizing: border-box; }
        input:focus, select:focus { border-color: var(--gold); }

        button { background: linear-gradient(to bottom, var(--primary-red), var(--dark-red)); color: white; border: none; padding: 16px 28px; border-radius: 50px; font-size: 1.2rem; font-weight: bold; cursor: pointer; box-shadow: 0 6px 20px rgba(155, 34, 38, 0.4); transition: 0.3s; width: 100%; margin-top: 10px; position: relative; overflow: hidden; }
        button:active { transform: scale(0.95); }

        /* --- å„ªåŒ–å¾Œçš„è€è™æ©Ÿæ¨£å¼ --- */
        .slot-machine { background: linear-gradient(145deg, #fff0f5, #fff9f0); border-radius: 20px; padding: 20px 10px; margin: 15px 0; border: 3px double var(--gold); }
        .slot-reel { 
            width: 45px; height: 65px; 
            background: linear-gradient(180deg, #ffffff 0%, #f0f0f0 50%, #ffffff 100%); 
            border: 3px solid var(--gold); 
            border-radius: 12px; 
            font-size: 2.8rem; font-weight: 900; color: var(--primary-red); 
            display: flex; justify-content: center; align-items: center; 
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1); 
            box-shadow: inset 0 0 10px rgba(0,0,0,0.2), 0 4px 10px rgba(0,0,0,0.3);
            overflow: hidden; transition: all 0.1s; 
        }
        
        /* æ—‹è½‰éœ“è™¹ç‰¹æ•ˆ */
        .spinning { 
            filter: blur(1.5px); transform: scale(1.05); 
            border-color: var(--pink);
            background: linear-gradient(180deg, #fff3b0 0%, #ffffff 50%, #fff3b0 100%);
            animation: pulseBorder 0.2s infinite alternate;
        }
        @keyframes pulseBorder {
            from { box-shadow: 0 0 5px var(--gold); }
            to { box-shadow: 0 0 15px var(--pink); }
        }

        .history-pills { display: flex; justify-content: center; gap: 8px; flex-wrap: wrap; margin-top: 10px;}
        .pill { background: white; padding: 4px 12px; border-radius: 20px; font-size: 0.85rem; color: var(--dark-red); border: 1px solid var(--gold); font-weight: bold; animation: popIn 0.3s ease; }
        @keyframes popIn { from { transform: scale(0); } to { transform: scale(1); } }

        /* æœ€çµ‚é‡‘é¡ç‰¹æ•ˆ */
       .final-amount { font-size: 3.5rem; color: var(--primary-red); font-weight: 900; text-shadow: 4px 4px 0px var(--gold); background: linear-gradient(90deg, #ffb703, #fff, #ffb703); background-size: 200% auto; -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: goldShine 3s linear infinite; display: inline-block; margin: 10px 0; }
        @keyframes goldShine { 0% { background-position: -200%; } 100% { background-position: 200%; } }

        .lucky-bag { font-size: 80px; display: none; margin: 20px auto; animation: shake 0.5s infinite; }
        @keyframes shake { 0% { transform: rotate(0deg); } 25% { transform: rotate(10deg); } 50% { transform: rotate(0deg); } 75% { transform: rotate(-10deg); } 100% { transform: rotate(0deg); } }

        /* èª‡çèˆ‡æŒ‰éˆ•å€ */
        #praiseSection { display: none; margin-top: 20px; padding: 15px; background: #fffceb; border-radius: 15px; border: 2px dashed #ffb703; animation: slideUp 0.8s ease; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        .line-btn { background: linear-gradient(135deg, #06c755 0%, #009900 100%); animation: pulse-line 2s infinite; box-shadow: 0 5px 15px rgba(6, 199, 85, 0.4); }
        @keyframes pulse-line { 0% { transform: scale(1); } 50% { transform: scale(1.03); } 100% { transform: scale(1); } }
        
        .bonus-note { background: #ffeaea; color: #d63031; font-weight: bold; padding: 8px; border-radius: 8px; border: 1px solid #ff7675; display: none; font-size: 0.9rem; margin: 10px 0; animation: blink 2s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
    </style>
</head>
<body>

<audio id="clickSound" src="https://assets.mixkit.co/active_storage/sfx/2571/2571-preview.mp3"></audio>
<audio id="spinSound" src="https://assets.mixkit.co/active_storage/sfx/2016/2016-preview.mp3"></audio>
<audio id="stopSound" src="https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3"></audio>
<audio id="popSound" src="https://assets.mixkit.co/active_storage/sfx/2017/2017-preview.mp3"></audio>

<div class="container">
    <div id="step1" class="step active">
        <h2>ğŸ 2026 é¦¬åˆ°æˆåŠŸ</h2>
        <p>ç´…åŒ…é ˜å–ç³»çµ±èº«åˆ†è­˜åˆ¥ï¼š</p>
        <input type="text" id="nameInput" placeholder="è«‹è¼¸å…¥èª°æ˜¯ä¸–ç•Œä¸Šæœ€å¸¥çš„å…’å­ï¼Ÿ">
        <button onclick="App.checkStep1()">å¿«é¦¬åŠ é­é–‹å•Ÿç¦æ°£é–€</button>
    </div>

    <div id="step2" class="step">
        <h2>ğŸ è¬é¦¬å¥”é¨°</h2>
        <p>å›é¡§ 2025 å¹´å°æ„›å­ã€Œç†Šå‰›ã€è©•åˆ†ï¼š</p>
        <select id="satisfaction">
            <option value="">-- è«‹çµ¦äºˆæ„›çš„è©•åˆ† --</option>
            <option value="100">âœ¨ å®Œç¾ï¼å…’å­æ˜¯åŒ¹è¶…ç´šæ±—è¡€å¯¶é¦¬</option>
            <option value="90">âœ¨ å„ªç§€ï¼ä»Šå¹´è¡¨ç¾äº®çœ¼</option>
            <option value="80">âœ¨ æ»¿æ„ï¼ç©©å®šé€²æ­¥ä¸­</option>
        </select>
        <button onclick="App.checkStep2()">ç¢ºèªè©•é‘‘</button>
    </div>

    <div id="step3" class="step">
        <h2>ğŸ’– ç†Šå‰›çš„æ‚„æ‚„è©±</h2>
        <div style="text-align: left; background: #fff5f5; padding: 15px; border-radius: 15px; border-left: 5px solid var(--primary-red);">
            <p style="margin: 0; font-size: 0.95rem;">
                è¦ªæ„›çš„åª½åª½ï¼Œå°åŒ—ç”Ÿæ´»æ­¥èª¿å¿«ï¼Œå¸¸å¸¸å¿™åˆ°æ²’æ™‚é–“å¥½å¥½é™ªæ‚¨ï¼Œä¸Šç­å¾Œä¹Ÿæ¯”è¼ƒæ²’æ™‚é–“çœ‹è‚¡ç¥¨ã€‚<br><br>
                2026 é¦¬å¹´åˆ°äº†ï¼Œé€™ä»½ç´…åŒ…ä¸åªæ˜¯é‡‘é¡ï¼Œæ›´ä»£è¡¨æˆ‘æ»¿æ»¿çš„æ„Ÿè¬èˆ‡æ„›ã€‚<b>ä¸è«–æŠ½åˆ°å¤šå°‘ï¼Œå…’å­çš„å­å¿ƒéƒ½æ˜¯ä¸æ‰“æŠ˜çš„ï¼</b>
            </p>
        </div>
        <button onclick="App.nextStep(3, '3_5')">çŸ¥é“äº†ï¼Œè¾›è‹¦äº†ï¼Œä¹–å…’å­ â¤ï¸</button>
    </div>

    <div id="step3_5" class="step">
        <h2>ğŸ§§ è²¡æ°£åŒ¯èšä¸­</h2>
        <p>åª½åª½ï¼Œæº–å‚™å¥½è¿æ¥<br><b style="color:#e63946; font-size: 1.5rem;">é¦¬å¹´é¨°é£›ç‰¹å¤§ç´…åŒ…</b>äº†å—ï¼Ÿ</p>
        <button onclick="App.nextStep('3_5', 4)">æˆ‘æº–å‚™å¥½äº†ï¼å¤§çä¾†ï¼</button>
    </div>

    <div id="step4" class="step">
        <h2>ğŸ° è²¡ç¥ä¾†æ•²é–€</h2>
        <p>ç³»çµ±é€£æŠ½ä¸‰æ¬¡å–æœ€é«˜å€¼ä¸¦åŠ ç¢¼ï¼</p>
        <div class="slot-machine">
            <div style="display: flex; justify-content: center; gap: 4px; margin-bottom: 15px;">
                <div class="slot-reel" id="reel0">$</div>
                <div class="slot-reel" id="reel1">0</div>
                <div class="slot-reel" id="reel2">0</div>
                <div class="slot-reel" id="reel3">0</div>
                <div class="slot-reel" id="reel4">0</div>
                <div class="slot-reel" id="reel5">0</div>
            </div>
            <div class="history-pills" id="historyPills"></div>
        </div>
        <button id="drawBtn" onclick="App.draw()">é»æˆ‘æŠ½ç´…åŒ… (å‰© 3 æ¬¡)</button>
    </div>

    <div id="step5" class="step">
        <div id="luckyBag" class="lucky-bag">ğŸ’°</div>
        <div id="resultContent" style="display:none;">
            <div style="font-size: 2rem; color: var(--dark-red); font-weight: 900;">ğŸ§§ æ­å–œåª½åª½ ğŸ§§</div>
            <p style="margin-top:5px;">æ‚¨çš„ 2026 é¦¬å¹´ç™¼è²¡ç´…åŒ…ç¸½é¡ï¼š</p>
            <div id="bonusDisplay" style="display:none; color: var(--pink); font-size: 1.2rem; font-weight: bold; margin-bottom: 5px;">
                å…’å­é©šå–œåŠ ç¢¼ï¼š+$<span id="bonusValue">0</span>
            </div>
            <div class="final-amount" id="finalPrize">$0</div>
            <div id="bonusNote" class="bonus-note">
                âœ¨ ç³»çµ±åµæ¸¬åˆ°æ•¸å­—ã€Œ4ã€<br>å·²è‡ªå‹•ç‚ºæ‚¨å‡ç´šç‚ºã€Œ8ã€ç™¼è²¡ï¼ âœ¨
            </div>
            <div id="praiseSection">
                <p style="font-weight: bold; color: #d4a017;">âœ¨ å·å·å‘Šè¨´å¦³ âœ¨</p>
                <p style="font-size: 0.9rem;">æ•´å€‹ç¨‹å¼ä»‹é¢ã€ç´…åŒ…é›¨ç‰¹æ•ˆã€æŠ½çé‚è¼¯ã€è€è™æ©Ÿç•«é¢ï¼Œéƒ½æ˜¯å¦³å…’å­<b>è¦ªæ‰‹å¯«çš„</b>ï¼Œæ˜¯ä¸æ˜¯å¾ˆå²å®³ï¼</p>
                <button class="line-btn" onclick="LineBridge.send()">çœŸçš„éå¸¸å²å®³ï¼å‚³çµ¦å…’å­é ˜ç â¤ï¸</button>
            </div>
            <p style="color: #666; font-size: 0.75rem; margin-top: 15px;">[ è«‹æˆªåœ–æ­¤ç•«é¢å‚³çµ¦ç†Šå‰› ]</p>
        </div>
    </div>
</div>

<script>
    const Config = {
<<<<<<< HEAD
        minBase: 12800, maxBase: 34800,
=======
        minBase: 6800, maxBase: 34800,
>>>>>>> 1ee47f1db79eb09137627213f91ef440c1dce84c
        pinkGoldColors: ['#ff69b4', '#ffd700', '#ffffff', '#ff1493', '#ffcc00'],
        loadingTexts: ["æ‰‹æ°£åŠ æŒä¸­...", "è²¡ç¥é»éŒ¢ä¸­...", "é¦¬å¹´è²¡é‹äº¨é€š..."]
    };

    const AudioManager = {
        play(id) { const el = document.getElementById(id); if (el) { el.currentTime = 0; el.play().catch(e=>{}); } },
        init() { 
            ['clickSound', 'spinSound', 'stopSound', 'popSound'].forEach(id => { 
                const a = document.getElementById(id); if(a){ a.muted = true; a.play().then(()=>{ a.muted=false; a.pause(); }).catch(e=>{}); } 
            }); 
        },
        speak(text) { 
            if('speechSynthesis' in window) {
                const msg = new SpeechSynthesisUtterance(text); 
                msg.lang = 'zh-TW'; msg.rate = 0.9; 
                window.speechSynthesis.speak(msg); 
            }
        }
    };

    const Visuals = {
        createRain() {
            const rp = document.createElement('div'); rp.className = 'red-packet';
            rp.style.left = Math.random() * 100 + 'vw';
            rp.style.animationDuration = Math.random() * 3 + 2 + 's';
            document.body.appendChild(rp); setTimeout(() => rp.remove(), 5000);
        },
        launchEpicConfetti() {
            const duration = 3000; const end = Date.now() + duration;
            (function frame() {
                confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 }, colors: Config.pinkGoldColors });
                confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 }, colors: Config.pinkGoldColors });
                if (Date.now() < end) requestAnimationFrame(frame);
            }());
        },
        clickBurst(x, y) {
            confetti({ particleCount: 30, spread: 60, origin: { x: x/window.innerWidth, y: y/window.innerHeight }, colors: Config.pinkGoldColors, gravity: 0.5, ticks: 100 });
        }
    };

    document.addEventListener('click', (e) => {
        AudioManager.play('clickSound');
        if(e.target.tagName !== 'BUTTON') Visuals.clickBurst(e.clientX, e.clientY);
    }, {passive: true});

    const LineBridge = {
        send() {
            const amount = App.state.finalMaxAmount;
            const msg = `å…’å­ï¼Œé¦¬åˆ°æˆåŠŸ!ç´…åŒ…æŠ½åˆ°äº† $${amount.toLocaleString()}ï¼\né‚£å€‹è€è™æ©Ÿè·ŸæŠ½ççš„åŠŸèƒ½å¤ªè²¼å¿ƒäº†ï¼\nä½ å¯«ç¨‹å¼çœŸçš„å¤ªå²å®³äº†ï¼Œåª½åª½ä»¥ä½ ç‚ºæ¦®ï¼â¤ï¸`;
            window.location.href = `https://line.me/R/msg/text/?${encodeURIComponent(msg)}`;
        }
    };

    const App = {
        state: { scores: [], count: 3, finalMaxAmount: 0, wasModified: false },
        
        // æ–°å¢é™åˆ¶å‡½æ•¸
        clamp(val, min, max) {
            return Math.min(Math.max(val, min), max);
        },

        nextStep(current, next) {
            document.getElementById('step' + current).classList.remove('active');
            document.getElementById('step' + next).classList.add('active');
        },
        checkStep1() { 
            if (document.getElementById('nameInput').value.includes("ç†Šå‰›")) this.nextStep(1, 2); 
            else alert("å“å‘€ï¼è¼¸å…¥ã€Œç†Šå‰›ã€è©¦è©¦çœ‹ï¼Œä»–æ˜¯æœ€å¸¥çš„ï¼"); 
        },
        checkStep2() { if (document.getElementById('satisfaction').value !== "") this.nextStep(2, 3); },
        avoidFour(num) { 
            let str = num.toString(); 
            if (str.includes('4')) { 
                this.state.wasModified = true; 
                return parseInt(str.replace(/4/g, '8')); 
            }
            return num; 
        },

        draw() {
            const btn = document.getElementById('drawBtn'); 
            btn.disabled = true;
            AudioManager.play('spinSound');
            
            let rawAmount = Math.floor(Math.random() * (Config.maxBase - Config.minBase + 1) + Config.minBase);
            let displayAmount = this.avoidFour(rawAmount);
            let finalDigits = displayAmount.toString().padStart(5, '0');

            const reels = [1,2,3,4,5].map(i => document.getElementById('reel' + i));
            
            const timers = reels.map((reel, idx) => {
                reel.classList.add('spinning');
                return setInterval(() => {
                    reel.innerText = Math.floor(Math.random() * 10);
                }, 50 + (idx * 20)); 
            });

            let textIdx = 0;
            const textInt = setInterval(() => { btn.innerText = Config.loadingTexts[textIdx++ % 3]; }, 400);

            reels.forEach((reel, i) => {
                setTimeout(() => {
                    clearInterval(timers[i]);
                    reel.classList.remove('spinning');
                    reel.innerText = finalDigits[i];
                    AudioManager.play('stopSound');
                    
                    reel.style.transform = 'scale(1.2)';
                    setTimeout(() => reel.style.transform = 'scale(1)', 100);

                    if (i === 4) {
                        clearInterval(textInt);
                        this.state.scores.push(displayAmount);
                        this.state.count--;
                        document.getElementById('historyPills').innerHTML = this.state.scores.map(s => `<span class="pill">$${s.toLocaleString()}</span>`).join('');
                        
                        if (this.state.count > 0) { 
                            btn.disabled = false; btn.innerText = `å†æŠ½ä¸€æ¬¡ (å‰© ${this.state.count} æ¬¡)`; 
                        } else { 
                            btn.disabled = false; btn.innerText = "æŸ¥çœ‹æœ€çµ‚åŠ ç¢¼æˆæœ"; 
                            btn.classList.add('line-btn'); btn.onclick = () => this.showFinal(); 
                        }
                    }
                }, 1200 + (i * 500)); 
            });
        },

        showFinal() {
            this.nextStep(4, 5);
            const bag = document.getElementById('luckyBag');
            const content = document.getElementById('resultContent');
            bag.style.display = 'block';
            AudioManager.play('spinSound');

            setTimeout(() => {
                // 1. å–å¾—ä¸‰æ¬¡æŠ½çä¸­çš„æœ€é«˜åŸºç¤å€¼
                let basePrize = Math.max(...this.state.scores);
                
                // 2. è¨ˆç®—éš¨æ©ŸåŠ ç¢¼é‡‘é¡ (ç´„ 3000 ~ 5000)
                const extraGift = Math.floor(Math.random() * 2001) + 3000;
                
                // 3. åˆæ­¥åˆè¨ˆä¸¦é¿é–‹æ•¸å­— 4
                let total = basePrize + extraGift;
                this.state.wasModified = false;
                let processedTotal = this.avoidFour(total);
                
                // --- æª¢æŸ¥æ˜¯å¦ä½æ–¼ä¸‹é™ ---
                if (processedTotal < 32888) {
                    // æ’­æ”¾é©šè¨éŸ³æ•ˆæˆ–éœ‡å‹•æç¤º (é¸ç”¨)
                    AudioManager.speak("å“å‘€ï¼è²¡æ°£é‚„ä¸å¤ ï¼Œé‡æ–°åŒ¯èšæ›´å¼·çš„é¦¬å¹´å¥½é‹ï¼");
                    
                    // é¡¯ç¤ºè‡ªå‹•é‡æŠ½å‹•ç•«
                    bag.innerText = "å“å‘€ï¼é‡‘é¡å¤ªä½äº†ï¼Œå…’å­ä¸å¿å¿ƒï¼Œè«‹é‡æ–°æŠ½çğŸ”„";
                    bag.style.color = "var(--gold)";
                    
                    setTimeout(() => {
                        // é‡è¨­æŠ½çç‹€æ…‹
                        this.state.scores = [];
                        this.state.count = 3;
                        document.getElementById('historyPills').innerHTML = '';
                        document.getElementById('drawBtn').disabled = false;
                        document.getElementById('drawBtn').innerText = "é»æˆ‘æŠ½ç´…åŒ… (å‰© 3 æ¬¡)";
                        document.getElementById('drawBtn').onclick = () => this.draw();
                        document.getElementById('drawBtn').classList.remove('line-btn');
                        
                        // è·³å› Step 3.5
                        bag.innerText = "ğŸ’°"; // æ›å›éŒ¢è¢‹
                        this.nextStep(5, '3_5');
                    }, 1500);
                    return; // ä¸­æ–·å¾ŒçºŒé¡¯ç¤ºé‚è¼¯
                }

                // --- å¦‚æœé«˜æ–¼ä¸‹é™ï¼Œæ­£å¸¸åŸ·è¡Œé¡¯ç¤ºé‚è¼¯ ---
                bag.style.display = 'none';
                content.style.display = 'block';
                AudioManager.play('popSound');
                
                // å¥—ç”¨ä¸Šé™é™åˆ¶ï¼šæœ€é«˜ 39888
                this.state.finalMaxAmount = this.clamp(processedTotal, 32888, 39888);
                
                document.getElementById('bonusValue').innerText = extraGift.toLocaleString();
                document.getElementById('bonusDisplay').style.display = 'block';
                if (this.state.wasModified) document.getElementById('bonusNote').style.display = 'block';

                this.animateValue(document.getElementById('finalPrize'), 0, this.state.finalMaxAmount, 2000);
                Visuals.launchEpicConfetti();
                
                setTimeout(() => {
                    AudioManager.speak(`å“‡ï¼æ­å–œåª½åª½ï¼é¦¬åˆ°æˆåŠŸï¼Œç´…åŒ…ç¸½é‡‘é¡ ${this.state.finalMaxAmount} å…ƒï¼é€™çµ•å°æ˜¯ä¸Šä¸Šç±¤ï¼`);
                }, 500);
                
                setTimeout(() => {
                    document.getElementById('praiseSection').style.display = 'block';
                    document.getElementById('praiseSection').scrollIntoView({ behavior: 'smooth', block: 'center' });
                }, 2500);
            }, 2000);
        },
    
        animateValue(obj, start, end, duration) {
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                const ease = 1 - Math.pow(1 - progress, 4); 
                const currentVal = Math.floor(ease * (end - start) + start);
                obj.innerHTML = "$" + currentVal.toLocaleString();
                if (progress < 1) window.requestAnimationFrame(step);
            };
            window.requestAnimationFrame(step);
        }
    };
    setInterval(Visuals.createRain, 400);
    document.body.addEventListener('click', AudioManager.init, {once:true});
</script>
</body>
</html>